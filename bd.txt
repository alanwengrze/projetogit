show databases; Mostra os bancos de dados na maquina
use mydb; entra no banco de dados mydb
show tables; Mostra as tabelas dentro do banco de dados
select * from pessoa; mostra tudo da tabela pessoas

JOIN = junção, é unir duas ou mais tabelas. Se vamos unir duas ou mais tabelas, o JOIN vai no lugar da virgula entre as tabelas. E no lugar do WHERE colocamos o ON
select nome, email, estcivil from pessoa JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil; // Mostra tudo das duas tabelas (pessoa e estcivil)
                                                          (tabela.idtabela=tabela.idtabela)

select nome, email, telefone from pessoa JOIN telefone ON pessoa.idpessoa=telefone.idpessoa; // Mostra nome, email, telefone das tabelas pessoa e telefone das pessoas que tem telefone (a junção das duas tabelas)

select nome, email, telefone from pessoa LEFT JOIN telefone ON pessoa.idpessoa=telefone.idpessoa; //Mostra nome, email, telefone das tabelas pessoa e telefone de todas as pessoas, inclusive de quem não tem telefone.

O LEFT JOIN quer dizer que ele vai mostrar tudo da tabela em que está a esquerda, que nesse caso é a tabela pessoa, ou seja, além da junção, ele lista tudo o que está a esquerda. Quando usamos a condição junto (WHERE), ele vai olhar tudo o que tem no LEFT JOIN  e retornar apenas a condição.

Sempre que for usar o JOIN tem que usar o ON

Lembrando que o uso do WHERE é caso tenha alguma condição.

select nome, email, estcivil from pessoa JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil WHERE estcivil = "solteiro"; // Mostrar apenas as pessoas que forem solteiras

select nome, email, telefone from pessoa LEFT JOIN telefone ON pessoa.idpessoa=telefone.idpessoa WHERE telefone is null; Mostras apenas as pessoas que não tem telefone

select nome, email, estcivil, telefone from pessoa
JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil
JOIN telefone on pessoa.idpessoa=telefone.idpessoa
WHERE estcivil = "solteiro"; Mostrar os telefones e estcivil de quem for solteiro

select nome, email, estcivil, telefone from pessoa
JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil
JOIN telefone on pessoa.idpessoa=telefone.idpessoa
WHERE estcivil = "solteiro" or estcivil = "casado"; Mostrar os telefones e estcivil de quem for solteiro ou casado

select nome from pessoa
LEFT JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil
LEFT JOIN telefone ON pessoa.idpessoa=telefone.idpessoa
WHERE telefone is null and estcivil = "solteiro"; Mostrar nome de quem for solteiro e não tiver telefone

is null é quando a pessoa não tem telefone. telefone = null é quando o valor do telefone é null



ALTER TABLE altera uma tabela no banco de dados. Com esse comando podemos adicionar, excluir ou modificar a tabela.

ALTER TABLE pessoa
ADD datanasc date; Criou uma coluna com o nome datanasc do tipo date;

UPDATE serve para atualizar alguma tabela e suas colunas. Sendo UPDATE nometabela SET coluna = valor WHERE idpessoa = 1;

UPDATE pessoa
SET datanasc = "2005-05-05"
WHERE idpessoa = 5; atualizei os campos da datanasc

Função now(); mostra a data atual
Função year(); transforma uma data em apenas o ano;

select AVG( (year(now())- year(datanasc))) as media_idade from pessoa
JOIN estcivil ON estcivil.idestcivil=pessoa.idestcivil
where estcivil="solteiro"; Calcula a média de idade das pessoas solteiras. Quando usamos AVG em cima, não conseguimos usar outros nomes, a palavra reservada 'as' permite a gente escolher um nome para o resultado do nosso cálculo, no caso, o resultado do cálculo tem o nome de media_idade

select nome, year(now())- year(datanasc) as idade
from pessoa
JOIN telefone ON pessoa.idpessoa=telefone.idpessoa
where telefone is null and  year(now())- year(datanasc) < 18; calculando e mostrando alunos sem telefone menor de idade (NÃO SEI SE TA CERTA)

select nome, email, estcivil, telefone, max(( year(now())- year(datanasc))) as idade
from pessoa
join estcivil on estcivil.idestcivil=pessoa.idestcivil
left join telefone on pessoa.idpessoa=telefone.idpessoa
where (( year(now())- year(datanasc))) = (select max(((year(now())-year(datanasc)))) from pessoa); Calculando a idade, comparando com a maior idade e mostrando o resultado

select nome, ( year(now())- year(datanasc)) as idade
from pessoa
where (( year(now())- year(datanasc))) > (select avg((( year(now())- year(datanasc)))) from pessoa); Pessoas com idade maior que a média de idade

A ferramenta de engenharia reversa do workbench mostra o nosso banco de dados na forma de tabelas, facilitando a leitura, podemos acessar ele apertando CTRL + R

